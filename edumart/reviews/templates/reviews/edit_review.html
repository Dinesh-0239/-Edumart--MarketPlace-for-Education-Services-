{% extends "home_base.html" %}
{% load static %}
{% block title %} Edit Review | {{ review.service.title }}{% endblock %}
{% block style %} 
<link rel="stylesheet" href="{% static 'css/review_form_style.css' %}"> 
{% endblock %}
{% block content %}
<br><br>
<div class="container mt-4">
    <h2 class="page-title text-center">‚úçÔ∏è Edit Your Review</h2> <!-- Centered title with icon -->

    <!-- üìå Service & Provider Details -->
    <div class="card p-3 mb-4 service-details">
        <div class="row">
            <div class="col-md-4 text-center">
                {% if review.service.image %}
                    <img src="{{ review.service.image.url }}" alt="Service Image" class="img-fluid rounded service-img shadow">
                {% endif %}
            </div>
            <div class="col-md-8">
                <h5 class="service-title">{{ review.service.title }}</h5>
                <p><strong>Provider:</strong> {{ review.service.provider.username }}</p>
                <p><strong>Category:</strong> {{ review.service.category }}</p>
                <p><strong>Price:</strong> <span class="price">‚Çπ{{ review.service.price }}</span></p>
                <p><strong>Description:</strong> {{ review.service.description }}</p>
                <p><strong>Created On:</strong> {{ review.service.created_at|date:"M d, Y" }}</p>
            </div>
        </div>
    </div>

    <form method="POST" class="review-form">
        {% csrf_token %}

        <!-- ‚≠ê Rating Selection with Star Icons -->
        <div class="mb-3">
            <label class="form-label"><strong>Rating</strong></label>
            <div class="rating">
                {% for i in "54321"|make_list %}
                    <input type="radio" id="star{{ i }}" name="rating" value="{{ i }}" {% if review.rating == i|add:0 %}checked{% endif %} required>
                    <label for="star{{ i }}" title="{{ i }} stars">‚òÖ</label>
                {% endfor %}
            </div>
        </div>

        <!-- üìù Comment Field (Pre-filled) -->
        <div class="mb-3">
            <label for="comment" class="form-label"><strong>Comment</strong></label>
            <textarea name="comment" id="comment" class="form-control" rows="4" required>{{ review.comment }}</textarea>
        </div>

        <!-- ‚úÖ Submit & Cancel Buttons -->
        <div class="btn-group">
            <button type="submit" class="btn btn-primary">üíæ Update Review</button>
            <a href="{% url 'profile' %}" class="btn btn-secondary">‚ùå Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
